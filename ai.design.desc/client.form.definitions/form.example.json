{
  "id": "customerForm",
  "caption": { "key": "customerForm.caption", "default": "Customer Details" },
  "type": "form",
  "dataSource": "customers",
  "filter": {
    "criteria": [{ "field": "active", "operator": "equals", "value": true }]
  },
  "sort": {
    "field": "lastName",
    "order": "asc"
  },
  "pagination": {
    "pageSize": 20,
    "currentPage": 1
  },
  "permissions": {
    "allowInsert": true,
    "allowDelete": true,
    "allowModify": true,
    "fields": {
      "customerId": { "editable": false },
      "email": { "editable": true },
      "phone": { "editable": true }
    }
  },
  "menu": [
    {
      "caption": { "key": "menu.reports", "default": "Reports" },
      "items": [
        {
          "caption": {
            "key": "menu.customerOverview",
            "default": "Customer Overview"
          },
          "action": "generateCustomerOverviewReport"
        },
        {
          "caption": { "key": "menu.salesReport", "default": "Sales Report" },
          "action": "generateSalesReport"
        }
      ]
    },
    {
      "caption": { "key": "menu.actions", "default": "Actions" },
      "items": [
        {
          "caption": { "key": "menu.exportData", "default": "Export Data" },
          "action": "exportData"
        },
        {
          "caption": { "key": "menu.viewOrders", "default": "View Orders" },
          "action": "viewOrders"
        },
        {
          "caption": {
            "key": "menu.generateInvoice",
            "default": "Generate Invoice"
          },
          "action": "generateInvoice"
        },
        {
          "caption": {
            "key": "menu.sendWelcomeEmail",
            "default": "Send Welcome Email"
          },
          "action": "sendWelcomeEmail"
        }
      ]
    }
  ],
  "layout": {
    "layoutType": "grid",
    "groups": [
      {
        "id": "personalInfo",
        "caption": {
          "key": "group.personalInfo",
          "default": "Personal Information"
        },
        "fields": [
          {
            "name": "firstName",
            "caption": { "key": "field.firstName", "default": "First Name" },
            "type": "text",
            "required": true,
            "maxLength": 50,
            "defaultValue": "",
            "events": {
              "onChange": "validateName",
              "onFocus": "highlightField"
            }
          },
          {
            "name": "lastName",
            "caption": { "key": "field.lastName", "default": "Last Name" },
            "type": "text",
            "required": true,
            "maxLength": 50,
            "defaultValue": "",
            "events": { "onChange": "validateName" }
          },
          {
            "name": "email",
            "caption": { "key": "field.email", "default": "Email Address" },
            "type": "email",
            "required": true,
            "defaultValue": "",
            "pattern": "^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$",
            "events": { "onChange": "validateEmail" }
          },
          {
            "name": "phone",
            "caption": { "key": "field.phone", "default": "Phone Number" },
            "type": "text",
            "required": false,
            "defaultValue": "",
            "pattern": "^\\+?[0-9]{10,15}$",
            "events": { "onChange": "validatePhone" }
          },
          {
            "name": "dateOfBirth",
            "caption": {
              "key": "field.dateOfBirth",
              "default": "Date of Birth"
            },
            "type": "date",
            "required": false,
            "defaultValue": "",
            "localeFormat": "MM/DD/YYYY",
            "events": { "onChange": "calculateAge" }
          },
          {
            "name": "preferredContact",
            "caption": {
              "key": "field.preferredContact",
              "default": "Preferred Contact Method"
            },
            "type": "select",
            "required": false,
            "options": [
              {
                "value": "email",
                "label": { "key": "option.email", "default": "Email" }
              },
              {
                "value": "phone",
                "label": { "key": "option.phone", "default": "Phone" }
              },
              {
                "value": "mail",
                "label": { "key": "option.mail", "default": "Mail" }
              }
            ],
            "defaultValue": "email"
          },
          {
            "name": "language",
            "caption": {
              "key": "field.language",
              "default": "Preferred Language"
            },
            "type": "select",
            "required": false,
            "options": [
              {
                "value": "en",
                "label": { "key": "option.english", "default": "English" }
              },
              {
                "value": "es",
                "label": { "key": "option.spanish", "default": "Spanish" }
              },
              {
                "value": "fr",
                "label": { "key": "option.french", "default": "French" }
              }
            ],
            "defaultValue": "en"
          },
          {
            "name": "salesRep",
            "caption": {
              "key": "field.salesRep",
              "default": "Sales Representative"
            },
            "type": "lookup",
            "required": false,
            "dataSource": "employees",
            "displayField": "name",
            "valueField": "id",
            "defaultValue": null
          },
          {
            "name": "customerSince",
            "caption": {
              "key": "field.customerSince",
              "default": "Customer Since"
            },
            "type": "date",
            "readOnly": true,
            "defaultValue": "",
            "localeFormat": "MM/DD/YYYY"
          },
          {
            "name": "lastOrderDate",
            "caption": {
              "key": "field.lastOrderDate",
              "default": "Last Order Date"
            },
            "type": "date",
            "readOnly": true,
            "defaultValue": "",
            "localeFormat": "MM/DD/YYYY"
          },
          {
            "name": "status",
            "caption": { "key": "field.status", "default": "Status" },
            "type": "select",
            "required": true,
            "options": [
              {
                "value": "active",
                "label": { "key": "option.active", "default": "Active" }
              },
              {
                "value": "inactive",
                "label": { "key": "option.inactive", "default": "Inactive" }
              }
            ],
            "defaultValue": "active"
          },
          {
            "name": "isBusiness",
            "caption": {
              "key": "field.isBusiness",
              "default": "Is Business Customer"
            },
            "type": "checkbox",
            "required": false,
            "defaultValue": false,
            "events": { "onChange": "toggleBusinessInfo" }
          }
        ]
      },
      {
        "id": "addressInfo",
        "caption": {
          "key": "group.addressInfo",
          "default": "Address Information"
        },
        "fields": [
          {
            "name": "addressType",
            "caption": {
              "key": "field.addressType",
              "default": "Address Type"
            },
            "type": "select",
            "required": true,
            "options": [
              {
                "value": "home",
                "label": { "key": "option.home", "default": "Home" }
              },
              {
                "value": "business",
                "label": { "key": "option.business", "default": "Business" }
              },
              {
                "value": "other",
                "label": { "key": "option.other", "default": "Other" }
              }
            ],
            "defaultValue": "home"
          },
          {
            "name": "streetAddress",
            "caption": {
              "key": "field.streetAddress",
              "default": "Street Address"
            },
            "type": "text",
            "required": true,
            "defaultValue": ""
          },
          {
            "name": "city",
            "caption": { "key": "field.city", "default": "City" },
            "type": "text",
            "required": true,
            "defaultValue": ""
          },
          {
            "name": "state",
            "caption": { "key": "field.state", "default": "State" },
            "type": "text",
            "required": true,
            "defaultValue": ""
          },
          {
            "name": "zip",
            "caption": { "key": "field.zip", "default": "ZIP Code" },
            "type": "number",
            "required": true,
            "defaultValue": "",
            "maxLength": 10
          },
          {
            "name": "country",
            "caption": { "key": "field.country", "default": "Country" },
            "type": "select",
            "required": true,
            "options": [
              {
                "value": "us",
                "label": { "key": "option.us", "default": "United States" }
              },
              {
                "value": "ca",
                "label": { "key": "option.ca", "default": "Canada" }
              },
              {
                "value": "uk",
                "label": { "key": "option.uk", "default": "United Kingdom" }
              }
            ],
            "defaultValue": "us"
          }
        ]
      },
      {
        "id": "subscriptionInfo",
        "caption": {
          "key": "group.subscriptionInfo",
          "default": "Subscription Information"
        },
        "fields": [
          {
            "name": "subscriptionType",
            "caption": {
              "key": "field.subscriptionType",
              "default": "Subscription Type"
            },
            "type": "select",
            "required": true,
            "options": [
              {
                "value": "free",
                "label": { "key": "option.free", "default": "Free" }
              },
              {
                "value": "premium",
                "label": { "key": "option.premium", "default": "Premium" }
              },
              {
                "value": "enterprise",
                "label": { "key": "option.enterprise", "default": "Enterprise" }
              }
            ],
            "defaultValue": "free",
            "events": { "onChange": "handleSubscriptionChange" }
          },
          {
            "name": "subscriptionStartDate",
            "caption": {
              "key": "field.subscriptionStartDate",
              "default": "Start Date"
            },
            "type": "date",
            "required": false,
            "defaultValue": "",
            "localeFormat": "MM/DD/YYYY",
            "conditional": {
              "showWhen": {
                "field": "subscriptionType",
                "operator": "notEquals",
                "value": "free"
              }
            }
          },
          {
            "name": "subscriptionEndDate",
            "caption": {
              "key": "field.subscriptionEndDate",
              "default": "End Date"
            },
            "type": "date",
            "required": false,
            "defaultValue": "",
            "localeFormat": "MM/DD/YYYY",
            "conditional": {
              "showWhen": {
                "field": "subscriptionType",
                "operator": "notEquals",
                "value": "free"
              }
            }
          },
          {
            "name": "paymentMethod",
            "caption": {
              "key": "field.paymentMethod",
              "default": "Payment Method"
            },
            "type": "select",
            "required": false,
            "options": [
              {
                "value": "creditCard",
                "label": {
                  "key": "option.creditCard",
                  "default": "Credit Card"
                }
              },
              {
                "value": "paypal",
                "label": { "key": "option.paypal", "default": "PayPal" }
              },
              {
                "value": "bankTransfer",
                "label": {
                  "key": "option.bankTransfer",
                  "default": "Bank Transfer"
                }
              }
            ],
            "defaultValue": "",
            "conditional": {
              "showWhen": {
                "field": "subscriptionType",
                "operator": "notEquals",
                "value": "free"
              }
            }
          }
        ]
      },
      {
        "id": "businessInfo",
        "caption": {
          "key": "group.businessInfo",
          "default": "Business Information"
        },
        "conditional": {
          "showWhen": {
            "field": "isBusiness",
            "operator": "equals",
            "value": true
          }
        },
        "fields": [
          {
            "name": "companyName",
            "caption": {
              "key": "field.companyName",
              "default": "Company Name"
            },
            "type": "text",
            "required": true,
            "defaultValue": ""
          },
          {
            "name": "taxId",
            "caption": { "key": "field.taxId", "default": "Tax ID" },
            "type": "text",
            "required": false,
            "defaultValue": ""
          },
          {
            "name": "industry",
            "caption": { "key": "field.industry", "default": "Industry" },
            "type": "select",
            "required": false,
            "options": [
              {
                "value": "technology",
                "label": { "key": "option.technology", "default": "Technology" }
              },
              {
                "value": "finance",
                "label": { "key": "option.finance", "default": "Finance" }
              },
              {
                "value": "healthcare",
                "label": { "key": "option.healthcare", "default": "Healthcare" }
              }
            ],
            "defaultValue": ""
          }
        ]
      },
      {
        "id": "notes",
        "caption": { "key": "group.notes", "default": "Notes" },
        "fields": [
          {
            "name": "notes",
            "caption": { "key": "field.notes", "default": "Additional Notes" },
            "type": "textarea",
            "required": false,
            "defaultValue": "",
            "maxLength": 1000
          }
        ]
      }
    ]
  },
  "debug": true,
  "customTemplates": {
    "formHeader": "customFormHeaderTemplate",
    "formFooter": "customFormFooterTemplate"
  },
  "metadata": {
    "version": "1.0.0",
    "author": "Your Company",
    "lastUpdated": "2025-02-17"
  }
}
